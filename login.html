<!DOCTYPE html>
<html>

<head>
    <title>Foxsa </title>
    <link rel="icon" href="https://res.cloudinary.com/dz1dgaf8z/image/upload/v1680457354/henry-vargas-tails-pos-001_d5qhno.jpg" height="20" width="20" type="image/x-icon">

    <link href="https://fonts.googleapis.com/css?family=Fira+Sans&display=swap" rel="stylesheet" />

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

    <link rel="shortcut icon" type="image/png" href="https://naishare.com/images/favicon.png" />
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!----======== CSS ======== -->
    <link rel="stylesheet" href="style.css">

    <!----===== Boxicons CSS ===== -->
    <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>


    <!--<title>Dashboard Sidebar Menu</title>-->
    <title>Foxsa </title>
    <link rel="icon" href="https://res.cloudinary.com/dz1dgaf8z/image/upload/v1680457354/henry-vargas-tails-pos-001_d5qhno.jpg" height="20" width="20" type="image/x-icon">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.3/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
    <script src="https://creattie.com/js/embed.js?id=3daa379ebbd4bab6f3a2" defer></script>
    <script src="https://creattie.com/js/embed.js?id=3daa379ebbd4bab6f3a2" defer></script>






    <link href="login.css" rel="stylesheet" />
    <link href="mainapp.css" rel="stylesheet" />


</head>

<body>
    <div class="forms-out">
        <div class="forms-in">
            <div id="registration-page" class="hide">
                <button id="show-login">Sign In</button>
                <h3>Sign Up</h3>
                Email <br />
                <input type="email" id="registration-email" /><br />
                Confirm Email <br />
                <input type="email" id="registration-reemail" autocomplete="disable" /><br />
                Password <br />
                <input type="password" id="registration-password" /><br />
                <center><button id="register">Sign Up</button></center>
            </div>

            <div id="login-page">
                <button id="show-register">Sign Up</button>
                <h3>Sign In</h3>
                Email <br />
                <input type="email" id="login-email" /><br />
                Password <br />
                <input type="password" id="login-password" /><br />
                <p id="forgot-password">Forgot Password</p>
                <center><button id="login">Sign In</button></center>
            </div>

           



        </div>
         <div id="homepage" class="hide">
               
                <nav class="sidebar close">
                    <header>
                        <div class="image-text">
                            <span class="image">
                                <img src="https://res.cloudinary.com/dz1dgaf8z/image/upload/v1680458299/henry-vargas-tails-pos-001-removebg-preview_ijnayy.png" height="41" width="30" />
            
                            </span>
            
                            <div class="">
                            </div>
                        </div>
            
                        <i class='bx bx-chevron-right toggle'></i>
                    </header>
            
                    <div class="menu-bar">
                        <div class="menu">
            
                            <li class="search-box">
                                <i class='bx bx-search icon'></i>
                                <input type="text" placeholder="Search...">
                            </li>
            
                            <ul class="menu-links">
                                <li class="nav-link">
                                    <a href="https://6453a865d8f14d1d6e9c2888--strong-alfajores-c9af1f.netlify.app/" target="iframe_a">
                                        <i class='bx bx-home-alt icon'></i>
                                        <span class="text nav-text">Dashboard</span>
                                    </a>
                                </li>
            
                                <li class="nav-link">
                                    <a href="https://iline.onrender.com/" target="iframe_a">
                                        <i class='bx bx-conversation icon'></i>
                                        <span class="text nav-text">Chat</span>
                                    </a>
                                </li>
            
                                <li class="nav-link">
                                    <a onclick="videocall()" href="#">
                                        <i class='bx bx-video icon'></i>
                                        <span class="text nav-text">VideoChat</span>
                                    </a>
                                </li>
            
                                <li class="nav-link">
                                    <a href="https://app.any.do/tasks/all?d=anydo%3A%2F%2Fanydo%3Faction%3Dtasktab" target="iframe_a">
                                        <i class="bi bi-list-task icon"></i>
                                        <span class="text nav-text">Todo List</span>
                                    </a>
                                </li>
            
                                <li class="nav-link">
                                    <a onclick="myFunction1()" href="#">
                                        <i class='bx bxl-whatsapp icon'></i>
                                        <span class="text nav-text">Whatsapp</span>
                                    </a>
                                </li>
                                <li class="nav-link">
                                    <a onclick="myFunction2()" href="#">
                                        <i class='bx bxl-telegram icon'></i>
                                        <span class="text nav-text">Telegram</span>
                                    </a>
                                </li>
                           
                                <li class="nav-link">
                                    <a onclick="myFunction4()" href="#">
                                        <i class='bx bxl-gmail icon'></i>
                                        <span class="text nav-text">Mail</span>
                                    </a>
                                </li>
 

                                <li class="nav-link dropright">
                                    <a class="nav-link " href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <i class='bx bx-search-alt-2 icon'></i>
                                        <span class="text nav-text">Find</span>
                                    </a>
                                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                
                                        <a class="dropdown-item" href="https://wikipediastack.ccbp.tech/" target="iframe_a"><i class="bi bi-wikipedia"></i></a>
                                        <a class="dropdown-item" href="https://chatwithgpt.netlify.app/" target="iframe_a"><i class="bi bi-robot"></i></a>
                                        <a class="dropdown-item" href="https://www.wolframalpha.com/" target="iframe_a"><i class="bi bi-cpu"></i></a>
                                
                                    </li>
            
                            </ul>
                        </div>
            
                        <div class="bottom-content">
                            <li id="signout" class="">
                                <a   href="#">
                                    <i class='bx bx-log-out icon'></i>
                                    <span  class="text nav-text">Logout</span>
                                </a>
                            </li>
            
                            <li class="mode">
                                <div class="sun-moon">
                                    <i class='bx bx-moon icon moon'></i>
                                    <i class='bx bx-sun icon sun'></i>
                                </div>
                                <span class="mode-text text">Dark mode</span>
            
                                <div class="toggle-switch">
                                    <span class="switch"></span>
                                </div>
                            </li>
            
                        </div>
                    </div>
            
                </nav>
            
                <section class="home ">
                    <div>
                        <nav class="navbar navbar-light  " style="margin-left:10px;
            background: #e0e0e0;
            box-shadow:  20px 20px 60px #bebebe,
                         -20px -20px 60px #ffffff;">
                            <div id="mydiv" style="margin-left:20px;margin-top:25px;">
                                <i onclick="history.back()" class=" bi bi-arrow-left-square-fill"></i>
                               <a href="https://6453a865d8f14d1d6e9c2888--strong-alfajores-c9af1f.netlify.app/" target="iframe_a"> <i  class="bi bi-house-fill"></i></a>
                                <i onclick="history.forward()" class="bi bi-arrow-right-square-fill"></i>
            
                            </div>
                            <form class="form-inline flex-row">
                                <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
                                <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
                            </form>
            
                        </nav>
                    </div>
            
                    <iframe allow="geolocation; microphone;camera;display-capture" src="https://6453a865d8f14d1d6e9c2888--strong-alfajores-c9af1f.netlify.app/" height="680" id="iframe_a" name="iframe_a" width="1350" title="iframe_a" allow="camera https://videolify.cleverapps.io/join/ ; microphone https://videolify.cleverapps.io/join/ "></iframe>
            
                </section>
                
                <script src="main.js"></script>
                <script src="firebase.js"></script>
            
            </div>
    </div>

    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/7.14.1/firebase-app.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use-->
    <script src="https://www.gstatic.com/firebasejs/7.14.1/firebase-auth.js"></script>

    <script>
        // Your web app's Firebase configuration
        var firebaseConfig = {
            apiKey: "AIzaSyDZrcooM7n59VxOCtVIWBDRyEdeTACeqTs",
            authDomain: "chat-app-50daa.firebaseapp.com",
            databaseURL: "https://chat-app-50daa-default-rtdb.firebaseio.com",
            projectId: "chat-app-50daa",
            storageBucket: "chat-app-50daa.appspot.com",
            messagingSenderId: "394207245895",
            appId: "1:394207245895:web:aca4c820ef1830b0cc6362",
            measurementId: "G-T6864ZTR91"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
    </script>

    <script>
        //invokes firebase authentication.
        const auth = firebase.auth();

        document.querySelector("#show-register").addEventListener("click", () => {
            showRegistration();
        });

        const showRegistration = () => {
            document.querySelector("#registration-page").classList.remove("hide");
            document.querySelector("#login-page").classList.add("hide");
            document.querySelector("#homepage").classList.add("hide");
        };

        document.querySelector("#show-login").addEventListener("click", () => {
            showLogin();
        });

        const showLogin = () => {
            document.querySelector("#registration-page").classList.add("hide");
            document.querySelector("#login-page").classList.remove("hide");
            document.querySelector("#homepage").classList.add("hide");
        };

        document.querySelector("#signout").addEventListener("click", () => {
            signOut();
        });

        const register = () => {
            const email = document.querySelector("#registration-email").value;
            const reemail = document.querySelector("#registration-reemail").value;
            const password = document.querySelector("#registration-password").value;

            if (email.trim() == "") {
                alert("Enter Email");
            } else if (password.trim().length < 7) {
                alert("Password must be at least 7 characters");
            } else if (email != reemail) {
                alert("emails do not match");
            } else {
                auth
                    .createUserWithEmailAndPassword(email, password)
                    .catch(function(error) {
                        // Handle Errors here.
                        var errorCode = error.code;
                        var errorMessage = error.message;
                        alert(errorMessage);
                        // ...
                    });
            }
        };

        document.querySelector("#register").addEventListener("click", () => {
            register();
        });

        //register when you hit the enter key
        document
            .querySelector("#registration-password")
            .addEventListener("keyup", (e) => {
                if (event.keyCode === 13) {
                    e.preventDefault();

                    register();
                }
            });

        const login = () => {
            const email = document.querySelector("#login-email").value;
            const password = document.querySelector("#login-password").value;

            if (email.trim() == "") {
                alert("Enter Email");
            } else if (password.trim() == "") {
                alert("Enter Password");
            } else {
                authenticate(email, password);
            }
        };

        document.querySelector("#login").addEventListener("click", () => {
            login();
        });

        //sign in when you hit enter
        document
            .querySelector("#login-password")
            .addEventListener("keyup", (e) => {
                if (event.keyCode === 13) {
                    e.preventDefault();

                    login();
                }
            });

        const authenticate = (email, password) => {
            const auth = firebase.auth();
            auth.signInWithEmailAndPassword(email, password);
            firebase
                .auth()
                .signInWithEmailAndPassword(email, password)
                .catch(function(error) {
                    // Handle Errors here.
                    var errorCode = error.code;
                    var errorMessage = error.message;
                    alert(errorMessage);
                });
        };

        const showHomepage = () => {
            document.querySelector("#registration-page").classList.add("hide");
            document.querySelector("#login-page").classList.add("hide");
            document.querySelector("#homepage").classList.remove("hide");
          
        };

        const signOut = () => {
            firebase
                .auth()
                .signOut()
                .then(function() {
                    location.reload();
                })
                .catch(function(error) {
                    alert("error signing out, check network connection");
                });
        };

        auth.onAuthStateChanged((firebaseUser) => {
            if (firebaseUser) {
                showHomepage();
            }
        });

        document
            .querySelector("#forgot-password")
            .addEventListener("click", () => {
                const email = document.querySelector("#login-email").value;
                if (email.trim() == "") {
                    alert("Enter Email");
                } else {
                    forgotPassword(email);
                }
            });

        const forgotPassword = (email) => {
            auth
                .sendPasswordResetEmail(email)
                .then(function() {
                    alert("email sent");
                })
                .catch(function(error) {
                    alert("invalid email or bad network connection");
                });
        };
    </script>
</body>

</html>
